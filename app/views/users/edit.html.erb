<% if @user.errors.any? %>
  <% @user.errors.full_messages.each do |message|%>
  <ul>
    <div class="alert alert-danger" role="alert">
      <li><%= message %></li>
    </div>
  </ul>
  <% end %>
<% end %>

<h1>ユーザ情報編集</h1>
<%= form_with(model:@user, local:true) do |form| %>
  <div class="user_icon">
    <%= image_tag(@user.icon.url) if @user.icon && @user.icon.url %>
  </div>
  <%= form.file_field :icon %>
  <%= form.hidden_field :icon_cache %>
  <%= form.email_field :email, placeholder: 'メールアドレス' %>
  <%= form.text_field :name, placeholder: 'ユーザーネーム' %>
  <%= form.password_field :password, placeholder: 'パスワード' %>
  <%= form.password_field :password_confirmation, placeholder: 'パスワード（確認用）' %>
  <%= form.submit '登録する' %>
<% end %>
